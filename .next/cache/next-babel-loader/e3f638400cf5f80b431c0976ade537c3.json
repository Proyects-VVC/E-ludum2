{"ast":null,"code":"var _jsxFileName = \"C:\\\\RepositoriosDesarrollo\\\\e-Ludumv4\\\\WAI-Eludum\\\\pages\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from 'next/head';\nimport Layout from '../components/Layout';\nimport Regla from '../components/Regla';\nimport { useQuery, gql } from '@apollo/client';\nimport { useRouter } from 'next/router';\nimport Link from 'next/link';\nconst OBTENER_CLIENTES_USUARIO = gql`\n\tquery obtenerReglasUsuario {\n\t\tobtenerReglasUsuario {\n\t\t\tid\n\t\t\ttipo\n\t\t\tcondicion\n\t\t\tregla\n\t\t}\n\t}\n`;\n\nconst Index = () => {\n  // Routing\n  const router = useRouter(); // Consulta de Apollo\n\n  const {\n    data,\n    loading,\n    error\n  } = useQuery(OBTENER_CLIENTES_USUARIO);\n  console.log(data);\n  console.log(loading);\n  console.log(error); // Proteger que no accedamos a data antes de tener resultados\n\n  if (loading) return 'Cargando...'; // //Si no hay informacion\n  // if(!data.obtenerReglasUsuario) {\n  // \treturn router.push('/login');\n  // }\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 3\n    }\n  }, __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }\n  }, __jsx(\"h1\", {\n    className: \"text-2xl text-gray-800 font-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, \"Reglas\"), __jsx(Link, {\n    href: \"/nuevaregla\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, __jsx(\"a\", {\n    className: \"bg-blue-800 py-2 px-5 mt-3 inline-block text-white rounded text-sm hover:bg-gray-800 mb-3 uppercase font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 6\n    }\n  }, \"Nueva Regla\")), __jsx(\"table\", {\n    className: \"table-auto shadow-md mt-10 w-full w-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, __jsx(\"thead\", {\n    className: \"bg-gray-800\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 6\n    }\n  }, __jsx(\"tr\", {\n    className: \"text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, __jsx(\"th\", {\n    className: \"w-1/5 py-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 8\n    }\n  }, \"Tipo\"), __jsx(\"th\", {\n    className: \"w-1/5 py-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 8\n    }\n  }, \"condicion\"), __jsx(\"th\", {\n    className: \"w-1/5 py-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 8\n    }\n  }, \"Regla\"), __jsx(\"th\", {\n    className: \"w-1/5 py-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 8\n    }\n  }, \"Eliminar\"), __jsx(\"th\", {\n    className: \"w-1/5 py-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 8\n    }\n  }, \"Editar\"))), __jsx(\"tbody\", {\n    className: \"bg-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 6\n    }\n  }, data.obtenerReglasUsuario.map(regla => __jsx(Regla, {\n    key: regla.id,\n    regla: regla,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 8\n    }\n  }))))));\n};\n\nexport default Index;","map":{"version":3,"sources":["C:/RepositoriosDesarrollo/e-Ludumv4/WAI-Eludum/pages/index.js"],"names":["Head","Layout","Regla","useQuery","gql","useRouter","Link","OBTENER_CLIENTES_USUARIO","Index","router","data","loading","error","console","log","obtenerReglasUsuario","map","regla","id"],"mappings":";;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,SAASC,QAAT,EAAmBC,GAAnB,QAA8B,gBAA9B;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAEA,MAAMC,wBAAwB,GAAGH,GAAK;;;;;;;;;CAAtC;;AAWA,MAAMI,KAAK,GAAG,MAAM;AAEnB;AACA,QAAMC,MAAM,GAAGJ,SAAS,EAAxB,CAHmB,CAKnB;;AACA,QAAM;AAAEK,IAAAA,IAAF;AAAQC,IAAAA,OAAR;AAAiBC,IAAAA;AAAjB,MAA2BT,QAAQ,CAACI,wBAAD,CAAzC;AAEAM,EAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EAVmB,CAYnB;;AACA,MAAGD,OAAH,EAAY,OAAO,aAAP,CAbO,CAenB;AACA;AACA;AACA;;AAGA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAI,IAAA,SAAS,EAAC,mCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,EAGC,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAG,IAAA,SAAS,EAAC,+GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADD,CAHD,EAOC;AAAO,IAAA,SAAS,EAAC,wCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAO,IAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,EAEC;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFD,EAGC;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAHD,EAIC;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJD,EAKC;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALD,CADD,CADD,EAUC;AAAO,IAAA,SAAS,EAAC,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACED,IAAI,CAACK,oBAAL,CAA0BC,GAA1B,CAA+BC,KAAK,IACpC,MAAC,KAAD;AACC,IAAA,GAAG,EAAEA,KAAK,CAACC,EADZ;AAEC,IAAA,KAAK,EAAED,KAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CADF,CAVD,CAPD,CADD,CADD;AA+BA,CApDD;;AAsDA,eAAeT,KAAf","sourcesContent":["import Head from 'next/head';\r\nimport Layout from '../components/Layout';\r\nimport Regla from '../components/Regla';\r\nimport { useQuery, gql } from '@apollo/client';\r\nimport { useRouter } from 'next/router';\r\nimport Link from 'next/link';\r\n\r\nconst OBTENER_CLIENTES_USUARIO = gql `\r\n\tquery obtenerReglasUsuario {\r\n\t\tobtenerReglasUsuario {\r\n\t\t\tid\r\n\t\t\ttipo\r\n\t\t\tcondicion\r\n\t\t\tregla\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nconst Index = () => {\r\n\r\n\t// Routing\r\n\tconst router = useRouter();\t\r\n\r\n\t// Consulta de Apollo\r\n\tconst { data, loading, error } = useQuery(OBTENER_CLIENTES_USUARIO);\r\n\r\n\tconsole.log(data);\r\n\tconsole.log(loading);\r\n\tconsole.log(error);\r\n\r\n\t// Proteger que no accedamos a data antes de tener resultados\r\n\tif(loading) return 'Cargando...';\r\n\r\n\t// //Si no hay informacion\r\n\t// if(!data.obtenerReglasUsuario) {\r\n\t// \treturn router.push('/login');\r\n\t// }\r\n\r\n\r\n\treturn(\r\n\t\t<div>\r\n\t\t\t<Layout>\r\n\t\t\t\t<h1 className=\"text-2xl text-gray-800 font-light\">Reglas</h1>\r\n\r\n\t\t\t\t<Link href=\"/nuevaregla\">\r\n\t\t\t\t\t<a className=\"bg-blue-800 py-2 px-5 mt-3 inline-block text-white rounded text-sm hover:bg-gray-800 mb-3 uppercase font-bold\">Nueva Regla</a>\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t\t<table className=\"table-auto shadow-md mt-10 w-full w-lg\">\r\n\t\t\t\t\t<thead className=\"bg-gray-800\">\r\n\t\t\t\t\t\t<tr className=\"text-white\">\r\n\t\t\t\t\t\t\t<th className=\"w-1/5 py-2\">Tipo</th>\r\n\t\t\t\t\t\t\t<th className=\"w-1/5 py-2\">condicion</th>\r\n\t\t\t\t\t\t\t<th className=\"w-1/5 py-2\">Regla</th>\r\n\t\t\t\t\t\t\t<th className=\"w-1/5 py-2\">Eliminar</th>\r\n\t\t\t\t\t\t\t<th className=\"w-1/5 py-2\">Editar</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody className=\"bg-white\">\r\n\t\t\t\t\t\t{data.obtenerReglasUsuario.map( regla => (\r\n\t\t\t\t\t\t\t<Regla\r\n\t\t\t\t\t\t\t\tkey={regla.id}\r\n\t\t\t\t\t\t\t\tregla={regla}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</Layout>\r\n\t\t</div>\t\t\r\n\t)\r\n}\r\n\r\nexport default Index;\r\n"]},"metadata":{},"sourceType":"module"}