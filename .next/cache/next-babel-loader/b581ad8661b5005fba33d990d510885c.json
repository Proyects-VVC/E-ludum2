{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\RepositoriosDesarrollo\\\\e-Ludumv4\\\\WAI-Eludum\\\\components\\\\Header.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n\\tquery obtenerUsuario {\\n\\t\\tobtenerUsuario {\\n\\t\\t\\tid\\n\\t\\t\\tnombre\\n\\t\\t\\tapellido\\n\\t\\t}\\n\\t}\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport { useQuery, gql } from '@apollo/client';\nimport { useRouter } from 'next/router';\nvar OBTENER_USUARIO = gql(_templateObject());\n\nvar Header = function Header() {\n  _s();\n\n  // Routing\n  var router = useRouter(); // Query de Apollo\n\n  var _useQuery = useQuery(OBTENER_USUARIO),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error; //console.log(data);\n  //console.log(loading);\n  //console.log(error);\n  // Proteger que no accedamos a data antes de tener resultados\n\n\n  if (loading) return 'Cargando...'; // Si no hay informacion\n\n  if (!data) {\n    return router.push('/login');\n  }\n\n  var _data$obtenerUsuario = data.obtenerUsuario,\n      nombre = _data$obtenerUsuario.nombre,\n      apellido = _data$obtenerUsuario.apellido;\n\n  var cerrarSesion = function cerrarSesion() {\n    localStorage.removeItem('token');\n    router.push('/login');\n  };\n\n  return __jsx(\"div\", {\n    className: \"flex justify-between mb-6 \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 3\n    }\n  }, __jsx(\"p\", {\n    className: \"mr-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 4\n    }\n  }, \"Hola, \", nombre, \" \", apellido, \" \"), __jsx(\"button\", {\n    onClick: function onClick() {\n      return cerrarSesion();\n    },\n    type: \"button\",\n    className: \"bg-blue-800 w-full sm:w-auto font-bold uppercase text-xs rounded py-1 px-2 text-white shadow-md\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 4\n    }\n  }, \"Cerrar sesion\"));\n};\n\n_s(Header, \"iceLXWjNxjNDYEEqU/kIP9QHhY0=\", false, function () {\n  return [useRouter, useQuery];\n});\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["C:/RepositoriosDesarrollo/e-Ludumv4/WAI-Eludum/components/Header.js"],"names":["React","useQuery","gql","useRouter","OBTENER_USUARIO","Header","router","data","loading","error","push","obtenerUsuario","nombre","apellido","cerrarSesion","localStorage","removeItem"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,GAAnB,QAA8B,gBAA9B;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,IAAMC,eAAe,GAAGF,GAAH,mBAArB;;AAUA,IAAMG,MAAM,GAAG,SAATA,MAAS,GAAM;AAAA;;AAEpB;AACA,MAAMC,MAAM,GAAGH,SAAS,EAAxB,CAHoB,CAKpB;;AALoB,kBAMaF,QAAQ,CAACG,eAAD,CANrB;AAAA,MAMZG,IANY,aAMZA,IANY;AAAA,MAMNC,OANM,aAMNA,OANM;AAAA,MAMGC,KANH,aAMGA,KANH,EAQpB;AACA;AACA;AAEA;;;AACA,MAAGD,OAAH,EAAY,OAAO,aAAP,CAbQ,CAepB;;AACA,MAAG,CAACD,IAAJ,EAAU;AACT,WAAOD,MAAM,CAACI,IAAP,CAAY,QAAZ,CAAP;AACA;;AAlBmB,6BAoBSH,IAAI,CAACI,cApBd;AAAA,MAoBZC,MApBY,wBAoBZA,MApBY;AAAA,MAoBJC,QApBI,wBAoBJA,QApBI;;AAsBpB,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC1BC,IAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAV,IAAAA,MAAM,CAACI,IAAP,CAAY,QAAZ;AACA,GAHD;;AAKA,SACC;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAG,IAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA4BE,MAA5B,OAAuCC,QAAvC,MADD,EAEC;AACC,IAAA,OAAO,EAAG;AAAA,aAAMC,YAAY,EAAlB;AAAA,KADX;AAEC,IAAA,IAAI,EAAC,QAFN;AAGC,IAAA,SAAS,EAAC,iGAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFD,CADD;AAYA,CAvCD;;GAAMT,M;UAGUF,S,EAGkBF,Q;;;KAN5BI,M;AAyCN,eAAeA,MAAf","sourcesContent":["import React from 'react';\r\nimport { useQuery, gql } from '@apollo/client';\r\nimport { useRouter } from 'next/router';\r\n\r\nconst OBTENER_USUARIO = gql `\r\n\tquery obtenerUsuario {\r\n\t\tobtenerUsuario {\r\n\t\t\tid\r\n\t\t\tnombre\r\n\t\t\tapellido\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nconst Header = () => {\r\n\r\n\t// Routing\r\n\tconst router = useRouter();\r\n\r\n\t// Query de Apollo\r\n\tconst { data, loading, error } = useQuery(OBTENER_USUARIO);\r\n\r\n\t//console.log(data);\r\n\t//console.log(loading);\r\n\t//console.log(error);\r\n\r\n\t// Proteger que no accedamos a data antes de tener resultados\r\n\tif(loading) return 'Cargando...';\r\n\r\n\t// Si no hay informacion\r\n\tif(!data) {\r\n\t\treturn router.push('/login');\r\n\t}\r\n\r\n\tconst { nombre, apellido } = data.obtenerUsuario;\r\n\r\n\tconst cerrarSesion = () => {\r\n\t\tlocalStorage.removeItem('token');\r\n\t\trouter.push('/login');\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"flex justify-between mb-6 \">\r\n\t\t\t<p className=\"mr-2\">Hola, { nombre } { apellido } </p>\r\n\t\t\t<button\r\n\t\t\t\tonClick={ () => cerrarSesion() } \r\n\t\t\t\ttype=\"button\" \r\n\t\t\t\tclassName=\"bg-blue-800 w-full sm:w-auto font-bold uppercase text-xs rounded py-1 px-2 text-white shadow-md\"\r\n\t\t\t>\r\n\t\t\t\tCerrar sesion\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Header;"]},"metadata":{},"sourceType":"module"}